{"version":3,"sources":["features/AppBase/user/services/auth.service.js","features/AppBase/user/actions/auth.js","Firebase.js","Pages/SignUp.module.css","Pages/SignUp.js"],"names":["username","email","password","confirmpassword","birthdate","avatar","axios","post","then","response","console","log","localStorage","setItem","JSON","stringify","data","isgoogle","removeItem","register","dispatch","AuthService","type","REGISTER_SUCCESS","SET_MESSAGE","payload","message","Promise","resolve","error","toString","REGISTER_FAIL","reject","registerg","REGISTERG_SUCCESS","login","LOGIN_SUCCESS","user","LOGIN_FAIL","loging","logout","LOGOUT","auth","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","GoogleAuthProvider","module","exports","yup","shape","required","SignUp","useState","setemail","setpassword","setconfirmpassword","setusername","Date","setbirthdate","setavatar","useDispatch","history","useHistory","googleProvider","React","amount","weight","weightRange","showPassword","values","setValues","handleClickShowPassword","handleMouseDownPassword","event","preventDefault","className","styles","page","logo","src","alt","onClick","push","signUp","title","form","value","onChange","e","target","label","placeholder","htmlFor","id","endAdornment","position","aria-label","onMouseDown","defaultValue","InputLabelProps","shrink","fileInput","multiple","onDone","base64","variant","size","color","createUserWithEmailAndPassword","authUser","signInWithEmailAndPassword","catch","alert","window","location","reload","signInWithPopup","res","xmlns","viewBox","width","height","fill","d"],"mappings":"8UAmFe,EA7EE,SAACA,EAAUC,EAAOC,EAAUC,EAAiBC,EAAWC,GACvE,OAAOC,IAAMC,KAAK,oCAAqC,CACrDP,WACAC,QACAC,WACAC,kBACAC,YACAC,WACCG,MAAK,SAACC,GAKP,OAHEC,QAAQC,IAAI,iBACZC,aAAaC,QAAQ,OAAQC,KAAKC,UAAUN,EAASO,OAEhDP,EAASO,SAgEL,EA5DG,SAAChB,EAAUC,EAAOG,EAAWC,EAAQY,GACrD,OAAOX,IAAMC,KAAK,qCAAsC,CACtDP,WACAC,QACAG,YACAC,SACAY,aACCT,MAAK,SAACC,GAKP,OAHEC,QAAQC,IAAI,iBACZC,aAAaC,QAAQ,OAAQC,KAAKC,UAAUN,EAASO,OAEhDP,EAASO,SAgDL,EA5CD,SAACf,EAAOC,GAEpB,OADAQ,QAAQC,IAAI,WACLL,IAAMC,KAAK,mCAAoC,CAClDN,QACAC,aAEDM,MAAK,SAACC,GAGL,OAFEC,QAAQC,IAAI,iBACZC,aAAaC,QAAQ,OAAQC,KAAKC,UAAUN,EAASO,OAChDP,EAASO,SAmCP,EA/BA,SAACf,GAEd,OADAS,QAAQC,IAAI,WACLL,IAAMC,KAAK,oCAAqC,CACnDN,UAEDO,MAAK,SAACC,GAGL,OAFEC,QAAQC,IAAI,iBACZC,aAAaC,QAAQ,OAAQC,KAAKC,UAAUN,EAASO,OAChDP,EAASO,SAuBP,EALA,WACbJ,aAAaM,WAAW,QACxBR,QAAQC,IAAI,oBCnEDQ,EAAW,SAACnB,EAAUC,EAAOC,EAAUC,EAAiBC,EAAWC,GAAxD,OAAmE,SAACe,GAC1F,OAAOC,EAAqBrB,EAAUC,EAAOC,EAAUC,EAAiBC,EAAWC,GAAQG,MACzF,SAACC,GAUC,OATAW,EAAS,CACPE,KAAMC,MAGRH,EAAS,CACPE,KAAME,IACNC,QAAShB,EAASO,KAAKU,UAGlBC,QAAQC,aAEjB,SAACC,GACC,IAAMH,EACHG,EAAMpB,UACLoB,EAAMpB,SAASO,MACfa,EAAMpB,SAASO,KAAKU,SACtBG,EAAMH,SACNG,EAAMC,WAWR,OATAV,EAAS,CACPE,KAAMS,MAGRX,EAAS,CACPE,KAAME,IACNC,QAASC,IAGJC,QAAQK,cAKRC,EAAY,SAACjC,EAAUC,EAAQG,EAAWC,EAAQY,GAAtC,OAAmD,SAACG,GAC3E,OAAOC,EAAsBrB,EAAUC,EAAOG,EAAWC,EAAQY,GAAUT,MACzE,SAACC,GAUC,OATAW,EAAS,CACPE,KAAMY,MAGRd,EAAS,CACPE,KAAME,IACNC,QAAShB,EAASO,KAAKU,UAGlBC,QAAQC,aAEjB,SAACC,GACC,IAAMH,EACHG,EAAMpB,UACLoB,EAAMpB,SAASO,MACfa,EAAMpB,SAASO,KAAKU,SACtBG,EAAMH,SACNG,EAAMC,WAWR,OATAV,EAAS,CACPE,KAAMS,MAGRX,EAAS,CACPE,KAAME,IACNC,QAASC,IAGJC,QAAQK,cAKRG,EAAQ,SAAClC,EAAOC,GAAR,OAAqB,SAACkB,GACzC,OAAOC,EAAkBpB,EAAOC,GAAUM,MACxC,SAACQ,GAMC,OALAI,EAAS,CACPE,KAAMc,IACNX,QAAS,CAAEY,KAAMrB,KAGZW,QAAQC,aAEjB,SAACC,GACC,IAAMH,EACHG,EAAMpB,UACLoB,EAAMpB,SAASO,MACfa,EAAMpB,SAASO,KAAKU,SACtBG,EAAMH,SACNG,EAAMC,WAWR,OATAV,EAAS,CACPE,KAAMgB,MAGRlB,EAAS,CACPE,KAAME,IACNC,QAASC,IAGJC,QAAQK,cAKRO,EAAS,SAACtC,GAAD,OAAW,SAACmB,GAChC,OAAOC,EAAmBpB,GAAOO,MAC/B,SAACQ,GAMC,OALAI,EAAS,CACPE,KAAMc,IACNX,QAAS,CAAEY,KAAMrB,KAGZW,QAAQC,aAEjB,SAACC,GACC,IAAMH,EACHG,EAAMpB,UACLoB,EAAMpB,SAASO,MACfa,EAAMpB,SAASO,KAAKU,SACtBG,EAAMH,SACNG,EAAMC,WAWR,OATAV,EAAS,CACPE,KAAMgB,MAGRlB,EAAS,CACPE,KAAME,IACNC,QAASC,IAGJC,QAAQK,cAKRQ,EAAS,kBAAM,SAACpB,GAC3BC,IACAX,QAAQC,IAAI,yBACZS,EAAS,CACPE,KAAMmB,S,iCCzJV,+CAeQC,GAFcC,IAASC,cAVR,CACnBC,OAAQ,0CACRC,WAAY,wCACZC,UAAW,wBACXC,cAAe,oCACfC,kBAAmB,eACnBC,MAAO,8CAKcC,YACVR,IAASD,QAID,IAAIC,IAASD,KAAKU,oB,oBClBzCC,EAAOC,QAAU,CAAC,KAAO,qBAAqB,KAAO,qBAAqB,KAAO,qBAAqB,GAAK,mBAAmB,KAAO,qBAAqB,OAAS,uBAAuB,SAAW,yBAAyB,OAAS,uBAAuB,MAAQ,sBAAsB,KAAO,qBAAqB,SAAW,yBAAyB,OAAS,uBAAuB,QAAU,wBAAwB,WAAa,2BAA2B,YAAc,4BAA4B,YAAc,4BAA4B,IAAM,oBAAoB,MAAQ,sBAAsB,QAAU,0B,8SCwB7kBC,MAAaC,MAAM,CAChCxD,SAAWuD,MAAaE,SAAS,qBACjCxD,MAAQsD,MAAaE,SAAS,oCAC9BrD,UAAYmD,MAAaE,SAAS,oDA0NrBC,UArNf,WAAmB,IAAD,EACUC,mBAAS,IADnB,mBACT1D,EADS,KACF2D,EADE,OAEgBD,mBAAS,IAFzB,mBAETzD,EAFS,KAEC2D,EAFD,OAG8BF,mBAAS,IAHvC,mBAGTxD,EAHS,KAGQ2D,EAHR,OAIgBH,mBAAS,IAJzB,mBAIT3D,EAJS,KAIC+D,EAJD,OAKkBJ,mBAAS,IAAIK,MAL/B,mBAKT5D,EALS,KAKE6D,EALF,OAMYN,mBAAS,IANrB,mBAMTtD,EANS,KAMD6D,EANC,KAOV9C,EAAW+C,cACXC,EAAUC,cAgBVC,EAAiB,IAAI3B,IAASD,KAAKU,mBAxBzB,EAuDYmB,IAAMZ,SAAS,CACzCa,OAAQ,GACRtE,SAAU,GACVuE,OAAQ,GACRC,YAAa,GACbC,cAAc,IA5DA,mBAuDTC,EAvDS,KAuDDC,EAvDC,KA+DVC,EAA0B,WAC9BD,EAAU,2BAAKD,GAAN,IAAcD,cAAeC,EAAOD,iBAGzCI,EAA0B,SAACC,GAC/BA,EAAMC,kBAGR,OACE,sBAAKC,UAAWC,IAAOC,KAAvB,UACE,qBACEF,UAAWC,IAAOE,KAClBC,IAAI,aACJC,IAAI,OACJC,QAAS,kBAAMpB,EAAQqB,KAAK,QAG9B,sBAAKP,UAAWC,IAAOO,OAAvB,UACA,oBAAIR,UAAWC,IAAOQ,MAAtB,sBAEE,uBAAMT,UAAWC,IAAOS,KAAxB,UACE,cAAC,IAAD,CACEC,MAAO7F,EACP8F,SAAU,SAACC,GAAD,OAAOhC,EAAYgC,EAAEC,OAAOH,QACtCI,MAAM,WACNC,YAAY,WACZ5E,KAAK,SAGP,cAAC,IAAD,CACEuE,MAAO5F,EACP6F,SAAU,SAACC,GAAD,OAAOnC,EAASmC,EAAEC,OAAOH,QACnCI,MAAM,QACNC,YAAY,QACZ5E,KAAK,UAGP,eAAC,IAAD,WACE,cAAC,IAAD,CAAY6E,QAAQ,8BAApB,sBAIA,cAAC,IAAD,CACEN,MAAO3F,EACP4F,SAAU,SAACC,GAAD,OAAOlC,EAAYkC,EAAEC,OAAOH,QACtCO,GAAG,8BACH9E,KAAMsD,EAAOD,aAAe,OAAS,WACrC0B,aACE,cAAC,IAAD,CAAgBC,SAAS,MAAzB,SACE,cAAC,IAAD,CACEC,aAAW,6BACXf,QAASV,EACT0B,YAAazB,EAHf,SAKGH,EAAOD,aAAe,cAAC,IAAD,IAAiB,cAAC,IAAD,aAOlD,eAAC,IAAD,WACE,cAAC,IAAD,CAAYwB,QAAQ,8BAApB,8BAIA,cAAC,IAAD,CACEN,MAAO1F,EACP2F,SAAU,SAACC,GAAD,OAAOjC,EAAmBiC,EAAEC,OAAOH,QAC7CO,GAAG,8BACH9E,KAAMsD,EAAOD,aAAe,OAAS,WACrC0B,aACE,cAAC,IAAD,CAAgBC,SAAS,MAAzB,SACE,cAAC,IAAD,CACEC,aAAW,6BACXf,QAASV,EACT0B,YAAazB,EAHf,SAKGH,EAAOD,aAAe,cAAC,IAAD,IAAiB,cAAC,IAAD,aAOlD,cAAC,IAAD,CACEkB,MAAOzF,EACP0F,SAAU,SAACC,GAAD,OAAO9B,EAAa8B,EAAEC,OAAOH,QACvCI,MAAM,YACN3E,KAAK,OACLmF,aAAa,aACbC,gBAAiB,CACfC,QAAQ,KAIZ,mDACA,qBAAKzB,UAAWC,IAAOyB,UAAvB,SACE,cAAC,IAAD,CACEtF,KAAK,OACLuF,UAAU,EACVC,OAAQ,gBAAGC,EAAH,EAAGA,OAAH,OAAgB7C,EAAU6C,QAItC,cAAC,IAAD,CACEC,QAAQ,WACRC,KAAK,QACLC,MAAM,UACN1B,QAxIW,SAACO,GACtBA,EAAEd,iBACFvE,QAAQC,IAAIN,GAzBVqC,IACGyE,+BAA+BlH,EAAOC,GACtCM,MAAK,SAAC4G,GACL1G,QAAQC,IAAIyG,GACZ1E,IAAK2E,2BAA2BpH,EAAOC,MAGxCoH,OAAM,SAACzF,GACN0F,MAAM1F,EAAMH,YAoBhBN,EAASD,YAASnB,EAAUC,EAAOC,EAAUC,EAAiBC,EAAWC,IACtEG,MAAK,WACJE,QAAQC,IAAIX,GACZU,QAAQC,IAAIV,GACZS,QAAQC,IAAIT,GACZkE,EAAQqB,KAAK,gBACb+B,OAAOC,SAASC,QAAO,MAExBJ,OAAM,gBAuHH,qBArFF,MA8FE,eAAC,IAAD,CAASN,QAAQ,WACfC,KAAK,QACLC,MAAM,UACN1B,QA3Je,WAEzB9C,IAAKiF,gBAAgBrD,GAAgB9D,MAAK,SAACoH,GACzClH,QAAQC,IAAIiH,EAAIvF,MAChB+B,EAAQqB,KAAK,oBAEZ6B,OAAM,SAACzF,GACRnB,QAAQC,IAAIkB,EAAMH,aAiJZ,gCAME,sBACEmG,MAAM,6BACNC,QAAQ,YACRC,MAAM,OACNC,OAAO,OAJT,UAME,sBACEC,KAAK,UACLC,EAAE,6QAEJ,sBACED,KAAK,UACLC,EAAE,uKAEJ,sBACED,KAAK,UACLC,EAAE,mKAEJ,sBACED,KAAK,UACLC,EAAE","file":"static/js/14.d9e69805.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst API_URL = \"http://localhost:4000/\";\r\n\r\n\r\nconst register = (username, email, password, confirmpassword, birthdate, avatar) => {\r\n  return axios.post(\"http://localhost:4000/user/signup\", {\r\n    username,\r\n    email,\r\n    password,\r\n    confirmpassword,\r\n    birthdate,\r\n    avatar,\r\n  }).then((response) => {\r\n    \r\n      console.log('local storage')\r\n      localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n\r\n    return response.data;\r\n  });\r\n};\r\n\r\nconst registerg = (username, email, birthdate, avatar, isgoogle) => {\r\n  return axios.post(\"http://localhost:4000/user/signupg\", {\r\n    username,\r\n    email,\r\n    birthdate,\r\n    avatar,\r\n    isgoogle,\r\n  }).then((response) => {\r\n    \r\n      console.log('local storage')\r\n      localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n\r\n    return response.data;\r\n  });\r\n};\r\n\r\nconst login = (email, password) => {\r\n  console.log('im here')\r\n  return axios.post(\"http://localhost:4000/user/login\", {\r\n      email,\r\n      password,\r\n    })\r\n    .then((response) => {\r\n        console.log('local storage')\r\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n      return response.data; \r\n    });\r\n};\r\n\r\nconst loging = (email) => {\r\n  console.log('im here')\r\n  return axios.post(\"http://localhost:4000/user/loging\", {\r\n      email,\r\n    })\r\n    .then((response) => {\r\n        console.log('local storage')\r\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n      return response.data; \r\n    });\r\n};\r\n\r\n\r\nconst UpdatePassword = (id, email, password, newpassword) => {\r\n  console.log('updatin password first')\r\n  return axios.post(\"http://localhost:4000/user/updatepassword\", {\r\n      id,\r\n      email,\r\n      password,\r\n      newpassword\r\n    }).then((response) => {\r\n      localStorage.removeItem(\"user\");\r\n      window.location.reload(false);\r\n    });\r\n};\r\n\r\nconst logout = () => {\r\n  localStorage.removeItem(\"user\");\r\n  console.log('were loggin out')\r\n};\r\n\r\nexport default {\r\n  register,\r\n  registerg,\r\n  login,\r\n  loging,\r\n  logout,\r\n  UpdatePassword\r\n};\r\n","import {\r\n  REGISTER_SUCCESS,\r\n  REGISTERG_SUCCESS,\r\n  REGISTER_FAIL,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOGOUT,\r\n  SET_MESSAGE,\r\n  UPDATEPASSWORD\r\n} from \"./types\";\r\n\r\nimport AuthService from \"../services/auth.service\";\r\n\r\nexport const register = (username, email, password, confirmpassword, birthdate, avatar) => (dispatch) => {\r\n  return AuthService.register(username, email, password, confirmpassword, birthdate, avatar).then(\r\n    (response) => {\r\n      dispatch({\r\n        type: REGISTER_SUCCESS,\r\n      });\r\n\r\n      dispatch({\r\n        type: SET_MESSAGE,\r\n        payload: response.data.message,\r\n      });\r\n\r\n      return Promise.resolve();\r\n    },\r\n    (error) => {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString();\r\n\r\n      dispatch({\r\n        type: REGISTER_FAIL,\r\n      });\r\n\r\n      dispatch({\r\n        type: SET_MESSAGE,\r\n        payload: message,\r\n      });\r\n\r\n      return Promise.reject();\r\n    }\r\n  );\r\n};\r\n\r\nexport const registerg = (username, email,  birthdate, avatar, isgoogle) => (dispatch) => {\r\n  return AuthService.registerg(username, email, birthdate, avatar, isgoogle).then(\r\n    (response) => {\r\n      dispatch({\r\n        type: REGISTERG_SUCCESS,\r\n      });\r\n\r\n      dispatch({\r\n        type: SET_MESSAGE,\r\n        payload: response.data.message,\r\n      });\r\n\r\n      return Promise.resolve();\r\n    },\r\n    (error) => {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString();\r\n\r\n      dispatch({\r\n        type: REGISTER_FAIL,\r\n      });\r\n\r\n      dispatch({\r\n        type: SET_MESSAGE,\r\n        payload: message,\r\n      });\r\n\r\n      return Promise.reject();\r\n    }\r\n  );\r\n};\r\n\r\nexport const login = (email, password) => (dispatch) => {\r\n  return AuthService.login(email, password).then(\r\n    (data) => {\r\n      dispatch({\r\n        type: LOGIN_SUCCESS,\r\n        payload: { user: data },\r\n      });\r\n\r\n      return Promise.resolve();\r\n    },\r\n    (error) => {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString();\r\n\r\n      dispatch({\r\n        type: LOGIN_FAIL,\r\n      });\r\n\r\n      dispatch({\r\n        type: SET_MESSAGE,\r\n        payload: message,\r\n      });\r\n\r\n      return Promise.reject();\r\n    }\r\n  );\r\n};\r\n\r\nexport const loging = (email) => (dispatch) => {\r\n  return AuthService.loging(email).then(\r\n    (data) => {\r\n      dispatch({\r\n        type: LOGIN_SUCCESS,\r\n        payload: { user: data },\r\n      });\r\n\r\n      return Promise.resolve();\r\n    },\r\n    (error) => {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString();\r\n\r\n      dispatch({\r\n        type: LOGIN_FAIL,\r\n      });\r\n\r\n      dispatch({\r\n        type: SET_MESSAGE,\r\n        payload: message,\r\n      });\r\n\r\n      return Promise.reject();\r\n    }\r\n  );\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  AuthService.logout();\r\n  console.log('logout action auth.js')\r\n  dispatch({\r\n    type: LOGOUT,\r\n  });\r\n};\r\n\r\nexport const updatePass = (user, password, newpassword) => (dispatch) => {\r\n  AuthService.UpdatePassword(user.id, user.email, password, newpassword);\r\n  console.log('update password second')\r\n  dispatch({\r\n    type: UPDATEPASSWORD,\r\n  });\r\n};\r\n","import firebase from 'firebase' ;\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBFuAru3tgBnO5-e3lqz1ELSv_J23VhutM\",\r\n    authDomain: \"kimy-online-classroom.firebaseapp.com\",\r\n    projectId: \"kimy-online-classroom\",\r\n    storageBucket: \"kimy-online-classroom.appspot.com\",\r\n    messagingSenderId: \"538402468977\",\r\n    appId: \"1:538402468977:web:d467f620db54ddfcbb17d0\"\r\n  };\r\n\r\n  \r\n  const firebaseapp = firebase.initializeApp(firebaseConfig) ; \r\n  const db = firebaseapp.firestore() ; \r\n  const auth = firebase.auth();\r\n\r\n  export {auth}\r\n\r\nconst googleProvider = new firebase.auth.GoogleAuthProvider();\r\nexport const signInWithGoogle = () => {\r\n  \r\n  auth.signInWithPopup(googleProvider).then((res) => {\r\n    console.log(res.user);\r\n    console.log('hola')\r\n    var usr = auth.currentUser;\r\n        console.log('gola');\r\n        console.log(usr);\r\n       // console.log(\"  Name: \" + usr.name);\r\n    console.log(\"  Email: \" + usr.email);\r\n  }).catch((error) => {\r\n    console.log(error.message)\r\n  })\r\n}\r\n  export default db ;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"SignUp_logo__3XdOX\",\"form\":\"SignUp_form__11Q7G\",\"page\":\"SignUp_page__3eBIE\",\"or\":\"SignUp_or__3Juz-\",\"sign\":\"SignUp_sign__YgG2I\",\"signIn\":\"SignUp_signIn__2kX_z\",\"signInwg\":\"SignUp_signInwg__3hItV\",\"signUp\":\"SignUp_signUp__4zP_b\",\"icons\":\"SignUp_icons__28h-B\",\"icon\":\"SignUp_icon__mhSjb\",\"linkedin\":\"SignUp_linkedin__3ocFh\",\"github\":\"SignUp_github__3eiMN\",\"twitter\":\"SignUp_twitter__3IXRN\",\"text_field\":\"SignUp_text_field__11ffz\",\"signup_grey\":\"SignUp_signup_grey__4hQ7G\",\"signup_link\":\"SignUp_signup_link__2psTj\",\"tos\":\"SignUp_tos__2o7C3\",\"title\":\"SignUp_title__hvC_Z\",\"divider\":\"SignUp_divider__3JUup\"};","import React from \"react\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport \"./Login.css\";\r\nimport styles from \"./SignUp.module.css\";\r\nimport FileBase from \"react-file-base64\";\r\nimport firebase from 'firebase' ;\r\nimport { auth } from \"../Firebase\";\r\nimport { Button, Divider } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { register } from \"../features/AppBase/user/actions/auth.js\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport * as yup from \"yup\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { Alert } from \"@material-ui/lab\";\r\n\r\nconst schema = yup.object().shape({\r\n  username : yup.string().required(\"Username required\") , \r\n  email : yup.string().required(\" your course should have a name \") , \r\n  birthdate : yup.string().required(\" please provide more details about your course\") , \r\n\r\n})\r\n\r\n\r\nfunction SignUp() {\r\n  const [email, setemail] = useState(\"\");\r\n  const [password, setpassword] = useState(\"\");\r\n  const [confirmpassword, setconfirmpassword] = useState(\"\");\r\n  const [username, setusername] = useState(\"\");\r\n  const [birthdate, setbirthdate] = useState(new Date());\r\n  const [avatar, setavatar] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const registerFireB = (e) => {\r\n    //e.preventDefault();\r\n\r\n    auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((authUser) => {\r\n        console.log(authUser);\r\n        auth.signInWithEmailAndPassword(email, password)\r\n        //history.push('/app/courses');\r\n      })\r\n      .catch((error) => {\r\n        alert(error.message);\r\n      });\r\n  };\r\n  const googleProvider = new firebase.auth.GoogleAuthProvider();\r\n  const signInWithGoogle = () => {\r\n  \r\n  auth.signInWithPopup(googleProvider).then((res) => {\r\n    console.log(res.user);\r\n    history.push('/signupgoogle');\r\n    //window.location.reload(false);\r\n  }).catch((error) => {\r\n    console.log(error.message)\r\n  })\r\n} \r\n\r\nconst handleRegister = (e) => {\r\n  e.preventDefault();\r\n  console.log(avatar)\r\n  registerFireB();\r\n\r\n    dispatch(register(username, email, password, confirmpassword, birthdate, avatar))\r\n      .then(() => {\r\n        console.log(username)\r\n        console.log(email)\r\n        console.log(password)\r\n        history.push('/app/courses')\r\n        window.location.reload(false);\r\n      })\r\n      .catch(() => {\r\n      });\r\n\r\n};\r\n\r\n\r\n  const [values, setValues] = React.useState({\r\n    amount: \"\",\r\n    password: \"\",\r\n    weight: \"\",\r\n    weightRange: \"\",\r\n    showPassword: false,\r\n  });\r\n\r\n  const handleClickShowPassword = () => {\r\n    setValues({ ...values, showPassword: !values.showPassword });\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <div className={styles.page}>\r\n      <img\r\n        className={styles.logo}\r\n        src=\"./logo.png\"\r\n        alt=\"KIMY\"\r\n        onClick={() => history.push(\"/\")}\r\n      />\r\n      \r\n      <div className={styles.signUp}>\r\n      <h2 className={styles.title}>Sign up </h2>\r\n      \r\n        <form className={styles.form}>\r\n          <TextField\r\n            value={username}\r\n            onChange={(e) => setusername(e.target.value)}\r\n            label=\"Username\"\r\n            placeholder=\"username\"\r\n            type=\"text\"\r\n          />\r\n\r\n          <TextField\r\n            value={email}\r\n            onChange={(e) => setemail(e.target.value)}\r\n            label=\"Email\"\r\n            placeholder=\"email\"\r\n            type=\"email\"\r\n          />\r\n\r\n          <FormControl>\r\n            <InputLabel htmlFor=\"standard-adornment-password\">\r\n              Password\r\n            </InputLabel>\r\n\r\n            <Input\r\n              value={password}\r\n              onChange={(e) => setpassword(e.target.value)}\r\n              id=\"standard-adornment-password\"\r\n              type={values.showPassword ? \"text\" : \"password\"}\r\n              endAdornment={\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton\r\n                    aria-label=\"toggle password visibility\"\r\n                    onClick={handleClickShowPassword}\r\n                    onMouseDown={handleMouseDownPassword}\r\n                  >\r\n                    {values.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              }\r\n            />\r\n          </FormControl>\r\n\r\n          <FormControl>\r\n            <InputLabel htmlFor=\"standard-adornment-password\">\r\n              Confirm password\r\n            </InputLabel>\r\n\r\n            <Input\r\n              value={confirmpassword}\r\n              onChange={(e) => setconfirmpassword(e.target.value)}\r\n              id=\"standard-adornment-password\"\r\n              type={values.showPassword ? \"text\" : \"password\"}\r\n              endAdornment={\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton\r\n                    aria-label=\"toggle password visibility\"\r\n                    onClick={handleClickShowPassword}\r\n                    onMouseDown={handleMouseDownPassword}\r\n                  >\r\n                    {values.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              }\r\n            />\r\n          </FormControl>\r\n\r\n          <TextField\r\n            value={birthdate}\r\n            onChange={(e) => setbirthdate(e.target.value)}\r\n            label=\"Birthdate\"\r\n            type=\"date\"\r\n            defaultValue=\"2017-05-24\"\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          />\r\n\r\n          <p>Upload your avatar</p>\r\n          <div className={styles.fileInput}>\r\n            <FileBase\r\n              type=\"file\"\r\n              multiple={false}\r\n              onDone={({ base64 }) => setavatar(base64)}\r\n            />\r\n          </div>\r\n\r\n          <Button\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            onClick={handleRegister}\r\n          >\r\n            Sign Up\r\n          </Button> or\r\n\r\n          <Button  variant=\"outlined\"\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            onClick={signInWithGoogle} > \r\n            sign up with Google \r\n            \r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 48 48\"\r\n              width=\"30px\"\r\n              height=\"30px\"\r\n            >\r\n              <path\r\n                fill=\"#fbc02d\"\r\n                d=\"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20 s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z\"\r\n              />\r\n              <path\r\n                fill=\"#e53935\"\r\n                d=\"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039 l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z\"\r\n              />\r\n              <path\r\n                fill=\"#4caf50\"\r\n                d=\"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36 c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z\"\r\n              />\r\n              <path\r\n                fill=\"#1565c0\"\r\n                d=\"M43.611,20.083L43.595,20L42,20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571 c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z\"\r\n              />\r\n            </svg>\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignUp;\r\n"],"sourceRoot":""}